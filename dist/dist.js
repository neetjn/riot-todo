!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="dist/",e(e.s=1)}([function(t,e,n){(function(t){/* Riot v3.7.3, @license MIT */
!function(t,n){n(e)}(0,function(e){"use strict";function n(t,e){for(var n=t?t.length:0,r=0;r<n;r++)e(t[r],r);return t}function r(t,e){return-1!==t.indexOf(e)}function i(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function o(t,e){return t.slice(0,e.length)===e}function a(t,e,n,r){return Object.defineProperty(t,e,u({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function u(t){for(var e,n=1,r=arguments,i=r.length;n<i;n++)if(e=r[n])for(var o in e)m(t,o)&&(t[o]=e[o]);return t}function s(t){return Jt.test(t)}function c(t){return typeof t===Ht}function l(t){return t&&typeof t===Bt}function f(t){return typeof t===Vt}function p(t){return typeof t===It}function d(t){return h(t)||""===t}function h(t){return f(t)||null===t}function g(t){return Array.isArray(t)||t instanceof Array}function m(t,e){var n=Yt(t,e);return f(t[e])||n&&n.writable}function v(t,e){return Array.prototype.slice.call((e||document).querySelectorAll(t))}function b(t,e){return(e||document).querySelector(t)}function y(){return document.createDocumentFragment()}function w(){return document.createTextNode("")}function _(t){return!!t.ownerSVGElement}function x(t){return"svg"===t?document.createElementNS(Ft,t):document.createElement(t)}function k(t,e){if(f(t.innerHTML)){var n=(new DOMParser).parseFromString(e,"application/xml"),r=t.ownerDocument.importNode(n.documentElement,!0);t.appendChild(r)}else t.innerHTML=e}function $(t,e){t.style.display=e?"":"none",t.hidden=!e}function j(t,e){t.removeAttribute(e)}function O(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function N(t,e){return t.getAttribute(e)}function E(t,e,n){var r=zt.exec(e);r&&r[1]?t.setAttributeNS(Ut,r[1],n):t.setAttribute(e,n)}function S(t,e,n){t.insertBefore(e,n.parentNode&&n)}function C(t,e){if(t)for(var n;n=Wt.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function T(t,e,n){if(t){var r,i=e(t,n);if(!1===i)return;for(t=t.firstChild;t;)r=t.nextSibling,T(t,e,i),t=r}}function A(t,e,n){var r=this.__.parent,i=this.__.item;if(!i)for(;r&&!i;)i=r.__.item,r=r.__.parent;if(m(n,"currentTarget")&&(n.currentTarget=t),m(n,"target")&&(n.target=n.srcElement),m(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=i,e.call(this,n),fe.autoUpdate&&!n.preventUpdate){var o=ft(this);o.isMounted&&o.update()}}function M(t,e,n,i){var o,a=A.bind(i,n,e);n[t]=null,o=t.replace(Kt,""),r(i.__.listeners,n)||i.__.listeners.push(n),n[Rt]||(n[Rt]={}),n[Rt][t]&&n.removeEventListener(o,n[Rt][t]),n[Rt][t]=a,n.addEventListener(o,a,!1)}function P(t,e,r){var i,o=t.tag||t.dom._tag,a=o?o.__:{},u=a.head,s="VIRTUAL"===t.dom.tagName;if(o&&t.tagName===r)return void o.update();o&&(s&&(i=w(),u.parentNode.insertBefore(i,u)),o.unmount(!0)),p(r)&&(t.impl=$t[r],t.impl&&(t.tag=o=lt(t.impl,{root:t.dom,parent:e,tagName:r},t.dom.innerHTML,e),n(t.attrs,function(t){return E(o.root,t.name,t.value)}),t.tagName=r,o.mount(),s&&vt(o,i||o.root),e.__.onUnmount=function(){var t=o.opts.dataIs;gt(o.parent.tags,t,o),gt(o.__.parent.tags,t,o),o.unmount()}))}function L(t){return t?(t=t.replace(Nt,""),Gt[t]&&(t=Gt[t]),t):null}function R(t){if(!this.root||!N(this.root,"virtualized")){var e,n=t.dom,i=L(t.attr),o=r([Mt,Pt],i),a=t.root&&"VIRTUAL"===t.root.tagName,s=this.__,f=s.isAnonymous,p=n&&(t.parent||n.parentNode),h="style"===i,g="class"===i;if(t._riot_id)return void(t.__.wasCreated?t.update():(t.mount(),a&&vt(t,t.root)));if(t.update)return t.update();var m=o&&!f?u(Object.create(this),this.parent):this;e=ce(t.expr,m);var v=!d(e),b=l(e);if(b&&(g?e=ce(JSON.stringify(e),this):h&&(e=O(e))),!t.attr||t.wasParsedOnce&&v&&!1!==e||j(n,N(n,t.attr)?t.attr:i),t.bool&&(e=!!e&&i),t.isRtag)return P(t,this,e);if((!t.wasParsedOnce||t.value!==e)&&(t.value=e,t.wasParsedOnce=!0,!b||g||h||o)){if(v||(e=""),!i)return e+="",void(p&&(t.parent=p,"TEXTAREA"===p.tagName?(p.value=e,Qt||(n.nodeValue=e)):n.nodeValue=e));c(e)?M(i,e,n,this):o?$(n,i===Pt?!e:e):(t.bool&&(n[i]=e),"value"===i&&n.value!==e?n.value=e:v&&!1!==e&&E(n,i,e),h&&n.hidden&&$(n,!1))}}}function I(t){n(t,R.bind(this))}function B(t,e,n,r){var i=r?Object.create(r):{};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function V(t,e){for(var n=e.length,r=t.length;n>r;)n--,H.apply(e[n],[e,n])}function H(t,e){t.splice(e,1),this.unmount(),gt(this.parent,this,this.__.tagName,!0)}function U(t){var e=this;n(Object.keys(this.tags),function(n){ct.apply(e.tags[n],[n,t])})}function F(t,e,n){n?yt.apply(this,[t,e]):S(t,this.root,e.root)}function z(t,e,n){n?bt.apply(this,[t,e]):S(t,this.root,e.root)}function D(t,e){e?bt.call(this,t):t.appendChild(this.root)}function q(t,e,n,r){return t?r?ce(t,n):e[t]:e}function Z(t,e,i){var o,a=typeof N(t,At)!==It||j(t,At),s=N(t,Lt),c=!!s&&ce.hasExpr(s),l=dt(t),f=$t[l],d=t.parentNode,h=w(),m=st(t),v=N(t,Ct),b=[],_=t.innerHTML,x=!$t[l],k="VIRTUAL"===t.tagName,$=[];return j(t,Tt),j(t,Lt),i=ce.loopKeys(i),i.isLoop=!0,v&&j(t,Ct),d.insertBefore(h,t),d.removeChild(t),i.update=function(){i.value=ce(i.val,e);var d=i.value,w=y(),j=!g(d)&&!p(d),O=h.parentNode,N=[];O&&(j?(o=d||!1,d=o?Object.keys(d).map(function(t){return B(i,d[t],t)}):[]):o=!1,v&&(d=d.filter(function(t,n){return i.key&&!j?!!ce(v,B(i,t,n,e)):!!ce(v,u(Object.create(e),t))})),n(d,function(n,u){var p=!o&&i.key?B(i,n,u):n,h=q(s,n,p,c),g=a&&typeof n===Bt&&!o,v=$.indexOf(h),y=-1===v,j=!y&&g?v:u,E=b[j],S=u>=$.length,C=g&&y||!g&&!E;C?(E=ut(f,{parent:e,isLoop:!0,isAnonymous:x,tagName:l,root:t.cloneNode(x),item:p,index:u},_),E.mount(),S?D.apply(E,[w||O,k]):z.apply(E,[O,b[u],k]),S||$.splice(u,0,p),b.splice(u,0,E),m&&ht(e.tags,l,E,!0)):j!==u&&g&&((s||r(d,$[j]))&&(F.apply(E,[O,b[u],k]),b.splice(u,0,b.splice(j,1)[0]),$.splice(u,0,$.splice(j,1)[0])),i.pos&&(E[i.pos]=u),!m&&E.tags&&U.call(E,u)),E.__.item=p,E.__.index=u,E.__.parent=e,N[u]=h,C||E.update(p)}),V(d,b),$=N.slice(),O.insertBefore(w,h))},i.unmount=function(){n(b,function(t){t.unmount()})},i}function K(t,e,n){var r=this,i={parent:{children:e}};T(t,function(e,i){var o,a,u,s=e.nodeType,c=i.parent;if(!n&&e===t)return{parent:c};if(3===s&&"STYLE"!==e.parentNode.tagName&&ce.hasExpr(e.nodeValue)&&c.children.push({dom:e,expr:e.nodeValue}),1!==s)return i;var l="VIRTUAL"===e.tagName;if(o=N(e,Tt))return l&&E(e,"loopVirtual",!0),c.children.push(Z(e,r,o)),!1;if(o=N(e,Ct))return c.children.push(Object.create(pe).init(e,r,o)),!1;if((a=N(e,St))&&ce.hasExpr(a))return c.children.push({isRtag:!0,expr:a,dom:e,attrs:[].slice.call(e.attributes)}),!1;if(u=st(e),l&&(N(e,"virtualized")&&e.parentElement.removeChild(e),u||N(e,"virtualized")||N(e,"loopVirtual")||(u={tmpl:e.outerHTML})),u&&(e!==t||n)){if(!l||N(e,St))return c.children.push(lt(u,{root:e,parent:r},e.innerHTML,r)),!1;E(e,"virtualized",!0);var f=ut({tmpl:e.outerHTML},{root:e,parent:r},e.innerHTML);c.children.push(f)}return W.apply(r,[e,e.attributes,function(t,e){e&&c.children.push(e)}]),{parent:c}},i)}function W(t,e,i){var o=this;n(e,function(e){if(!e)return!1;var n,a=e.name,u=s(a);r(Et,a)&&t.tagName.toLowerCase()!==jt?n=Object.create(de).init(t,o,a,e.value):ce.hasExpr(e.value)&&(n={dom:t,expr:e.value,attr:a,bool:u}),i(e,n)})}function G(t,e,n){var r="o"===n[0],i=r?"select>":"table>";if(t.innerHTML="<"+i+e.trim()+"</"+i,i=t.firstChild,r)i.selectedIndex=-1;else{var o=be[n];o&&1===i.childElementCount&&(i=b(o,i))}return i}function J(t,e){if(!he.test(t))return t;var n={};return e=e&&e.replace(me,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(ve,function(t,e,r){return n[e]||r||""}).replace(ge,function(t,n){return e||n||""})}function Q(t,e,n){var r=t&&t.match(/^\s*<([-\w]+)/),i=r&&r[1].toLowerCase(),o=x(n?_e:we);return t=J(t,e),ye.test(i)?o=G(o,t,i):k(o,t),o}function X(t,e){var n=this,r=n.name,i=n.tmpl,o=n.css,a=n.attrs,u=n.onCreate;return $t[r]||(Y(r,i,o,a,u),$t[r].class=this.constructor),mt(t,r,e,this),o&&ae.inject(),this}function Y(t,e,n,r,i){return c(r)&&(i=r,/^[\w-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(c(n)?i=n:ae.add(n)),t=t.toLowerCase(),$t[t]={name:t,tmpl:e,attrs:r,fn:i},t}function tt(t,e,n,r,i){return n&&ae.add(n,t),$t[t]={name:t,tmpl:e,attrs:r,fn:i},t}function et(t,e,r){function i(t){if(t.tagName){var o,a=N(t,St);e&&a!==e&&(a=e,E(t,St,e)),o=mt(t,a||t.tagName.toLowerCase(),r),o&&u.push(o)}else t.length&&n(t,i)}var o,a,u=[];if(ae.inject(),l(e)&&(r=e,e=0),p(t)?(t="*"===t?a=wt():t+wt(t.split(/, */)),o=t?v(t):[]):o=t,"*"===e){if(e=a||wt(),o.tagName)o=v(e,o);else{var s=[];n(o,function(t){return s.push(v(e,t))}),o=s}e=0}return i(o),u}function nt(t,e,n){if(l(t))return void nt("__"+$e+++"__",t,!0);var r=n?ke:xe;if(!e){if(f(r[t]))throw new Error("Unregistered mixin: "+t);return r[t]}r[t]=c(e)?u(e.prototype,r[t]||{})&&e:u(r[t]||{},e)}function rt(){return n(kt,function(t){return t.update()})}function it(t){$t[t]=null}function ot(t,e,r,o,a){if(!t||!r){var u=!r&&t?this:e||this;n(a,function(t){t.expr&&I.call(u,[t.expr]),o[i(t.name).replace(Nt,"")]=t.expr?t.expr.value:t.value})}}function at(t){var e=this.__,n=e.isAnonymous;a(this,"isMounted",t),n||(t?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function ut(t,e,i){void 0===t&&(t={}),void 0===e&&(e={});var s,l=e.context||{},f=u({},e.opts),d=e.parent,h=e.isLoop,g=!!e.isAnonymous,m=fe.skipAnonymousTags&&g,v=e.item,b=e.index,y=[],w=[],x=[],$=e.root,O=e.tagName||dt($),N="virtual"===O,S=!N&&!t.tmpl;return m||le(l),t.name&&$._tag&&$._tag.unmount(!0),a(l,"isMounted",!1),a(l,"__",{isAnonymous:g,instAttrs:y,innerHTML:i,tagName:O,index:b,isLoop:h,isInline:S,listeners:[],virts:[],wasCreated:!1,tail:null,head:null,parent:null,item:null}),a(l,"_riot_id",Xt()),a(l,"root",$),u(l,{opts:f},v),a(l,"parent",d||null),a(l,"tags",{}),a(l,"refs",{}),S||h&&g?s=$:(N||($.innerHTML=""),s=Q(t.tmpl,i,_($))),a(l,"update",function(t){var e={},n=l.isMounted&&!m;return g&&d&&u(l,d),u(l,t),ot.apply(l,[h,d,g,e,y]),n&&l.isMounted&&c(l.shouldUpdate)&&!l.shouldUpdate(t,e)?l:(u(f,e),n&&l.trigger("update",t),I.call(l,x),n&&l.trigger("updated"),l)}),a(l,"mixin",function(){return n(arguments,function(t){var e,i,o=[],a=["init","__proto__"];t=p(t)?nt(t):t,e=c(t)?new t:t;var u=Object.getPrototypeOf(e);do{o=o.concat(Object.getOwnPropertyNames(i||e))}while(i=Object.getPrototypeOf(i||e));n(o,function(t){if(!r(a,t)){var n=Yt(e,t)||Yt(u,t),i=n&&(n.get||n.set);!l.hasOwnProperty(t)&&i?Object.defineProperty(l,t,n):l[t]=c(e[t])?e[t].bind(l):e[t]}}),e.init&&e.init.bind(l)(f)}),l}),a(l,"mount",function(){$._tag=l,W.apply(d,[$,$.attributes,function(t,e){!g&&de.isPrototypeOf(e)&&(e.tag=l),t.expr=e,y.push(t)}]),C(t.attrs,function(t,e){w.push({name:t,value:e})}),W.apply(l,[$,w,function(t,e){e?x.push(e):E($,t.name,t.value)}]),ot.apply(l,[h,d,g,f,y]);var e=nt(Ot);if(e&&!m)for(var n in e)e.hasOwnProperty(n)&&l.mixin(e[n]);if(t.fn&&t.fn.call(l,f),m||l.trigger("before-mount"),K.apply(l,[s,x,g]),l.update(v),!g&&!S)for(;s.firstChild;)$.appendChild(s.firstChild);if(a(l,"root",$),!m&&l.parent){var r=ft(l.parent);r.one(r.isMounted?"updated":"mount",function(){at.call(l,!0)})}else at.call(l,!0);return l.__.wasCreated=!0,l}),a(l,"unmount",function(e){var r,i=l.root,a=i.parentNode,u=kt.indexOf(l);return m||l.trigger("before-unmount"),C(t.attrs,function(t){o(t,Nt)&&(t=t.slice(Nt.length)),j($,t)}),l.__.listeners.forEach(function(t){Object.keys(t[Rt]).forEach(function(e){t.removeEventListener(e,t[Rt][e])})}),-1!==u&&kt.splice(u,1),(a||N)&&(d?(r=ft(d),N?Object.keys(l.tags).forEach(function(t){gt(r.tags,t,l.tags[t])}):(gt(r.tags,O,l),d!==r&&gt(d.tags,O,l))):k(i,""),a&&!e&&a.removeChild(i)),l.__.virts&&n(l.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),pt(x),n(y,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),l.__.onUnmount&&l.__.onUnmount(),l.isMounted||at.call(l,!0),at.call(l,!1),delete l.root._tag,l}),l}function st(t){return t.tagName&&$t[N(t,St)||N(t,St)||t.tagName.toLowerCase()]}function ct(t,e){var n,r=this.parent;r&&(n=r.tags[t],g(n)?n.splice(e,0,n.splice(n.indexOf(this),1)[0]):ht(r.tags,t,this))}function lt(t,e,n,r){var i=ut(t,e,n),o=e.tagName||dt(e.root,!0),u=ft(r);return a(i,"parent",u),i.__.parent=r,ht(u.tags,o,i),u!==r&&ht(r.tags,o,i),i}function ft(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function pt(t){n(t,function(t){t.unmount?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}function dt(t,e){var n=st(t),r=!e&&N(t,St);return r&&!ce.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function ht(t,e,n,r,i){var o=t[e],a=g(o),u=!f(i);if(!o||o!==n)if(!o&&r)t[e]=[n];else if(o)if(a){var s=o.indexOf(n);if(s===i)return;-1!==s&&o.splice(s,1),u?o.splice(i,0,n):o.push(n)}else t[e]=[o,n];else t[e]=n}function gt(t,e,n,r){if(g(t[e])){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||r||(t[e]=t[e][0]):delete t[e]}else delete t[e]}function mt(t,e,n,i){var o,a=$t[e],s=$t[e].class,c=i||(s?Object.create(s.prototype):{}),l=t._innerHTML=t._innerHTML||t.innerHTML,f=u({root:t,opts:n,context:c},{parent:n?n.parent:null});return a&&t&&(o=ut(a,f,l)),o&&o.mount&&(o.mount(!0),r(kt,o)||kt.push(o)),o}function vt(t,e){var n=y();bt.call(t,n),e.parentNode.replaceChild(n,e)}function bt(t,e){var n,r,i=this,o=w(),a=w(),u=y();for(this.root.insertBefore(o,this.root.firstChild),this.root.appendChild(a),this.__.head=r=o,this.__.tail=a;r;)n=r.nextSibling,u.appendChild(r),i.__.virts.push(r),r=n;e?t.insertBefore(u,e.__.head):t.appendChild(u)}function yt(t,e){for(var n,r=this,i=this.__.head,o=y();i;)if(n=i.nextSibling,o.appendChild(i),(i=n)===r.__.tail){o.appendChild(i),t.insertBefore(o,e.__.head);break}}function wt(t){if(!t){var e=Object.keys($t);return e+wt(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+St+'="'+n+'"]'},"")}var _t,xt,kt=[],$t={},jt="yield",Ot="__global_mixin",Nt="riot-",Et=["ref","data-ref"],St="data-is",Ct="if",Tt="each",At="no-reorder",Mt="show",Pt="hide",Lt="key",Rt="__riot-events__",It="string",Bt="object",Vt="undefined",Ht="function",Ut="http://www.w3.org/1999/xlink",Ft="http://www.w3.org/2000/svg",zt=/^xlink:(\w+)/,Dt=typeof window===Vt?void 0:window,qt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Zt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Kt=/^on/,Wt=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Gt={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},Jt=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,Qt=0|(Dt&&Dt.document||{}).documentMode,Xt=function(){var t=0;return function(){return++t}}(),Yt=function(t,e){return Object.getOwnPropertyDescriptor(t,e)},te=Object.freeze({each:n,contains:r,toCamel:i,startsWith:o,defineProperty:a,uid:Xt,getPropDescriptor:Yt,extend:u}),ee=Object.freeze({isBoolAttr:s,isFunction:c,isObject:l,isUndefined:f,isString:p,isBlank:d,isNil:h,isArray:g,isWritable:m}),ne=Object.freeze({$$:v,$:b,createFrag:y,createDOMPlaceholder:w,isSvg:_,mkEl:x,setInnerHTML:k,toggleVisibility:$,remAttr:j,styleObjectToString:O,getAttr:N,setAttr:E,safeInsert:S,walkAttrs:C,walkNodes:T}),re={},ie=[],oe=!1;Dt&&(_t=function(){var t=x("style"),e=b("style[type=riot]");return E(t,"type","text/css"),e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),xt=_t.styleSheet);var ae={styleNode:_t,add:function(t,e){e?re[e]=t:ie.push(t),oe=!0},inject:function(){if(Dt&&oe){oe=!1;var t=Object.keys(re).map(function(t){return re[t]}).concat(ie).join("\n");xt?xt.cssText=t:_t.innerHTML=t}}},ue=function(){function t(t,e){for(;--e>=0&&/\s/.test(t[e]););return e}function e(e,u){var s=/.*/g,c=s.lastIndex=u++,l=s.exec(e)[0].match(o);if(l){var f=c+l[0].length;c=t(e,c);var p=e[c];if(c<0||~n.indexOf(p))return f;if("."===p)"."===e[c-1]&&(u=f);else if("+"===p||"-"===p)(e[--c]!==p||(c=t(e,c))<0||!a.test(e[c]))&&(u=f);else if(~i.indexOf(p)){for(var d=c+1;--c>=0&&a.test(e[c]););~r.indexOf(e.slice(c+1,d))&&(u=f)}}return u}var n="[{(,;:?=|&!^~>%*/",r=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],i=r.reduce(function(t,e){return t+e.slice(-1)},""),o=/^\/(?=[^*>\/])[^[\/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\\/]*)*?\/[gimuy]*/,a=/[$\w]/;return e}(),se=function(e){function n(t){return t}function r(t,e){return e||(e=_),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?l:"")}function i(t){if(t===b)return y;var e=t.split(" ");if(2!==e.length||h.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(g,"\\").split(" ")),e[4]=r(e[1].length>1?/{[\S\s]*?}/:y[4],e),e[5]=r(t.length>3?/\\({|})/g:y[5],e),e[6]=r(y[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+m,l),e[8]=t,e}function o(t){return t instanceof RegExp?s(t):_[t]}function a(t){(t||(t=b))!==_[8]&&(_=i(t),s=t===b?n:r,_[9]=s(y[9])),w=t}function u(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:a,get:function(){return w},enumerable:!0}),c=t,a(e)}var s,c,l="g",f=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,p=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,d=p.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,h=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),g=/(?=[[\]()*+?.^$|])/g,m=p.source+"|"+/(\/)(?![*\/])/.source,v={"(":RegExp("([()])|"+m,l),"[":RegExp("([[\\]])|"+m,l),"{":RegExp("([{}])|"+m,l)},b="{ }",y=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+m,l),b,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],w=void 0,_=[];return o.split=function(t,e,n){function r(t){h&&(t=h+t,h=""),e||a?f.push(t&&t.replace(n[5],"$1")):f.push(t)}function i(n,r,i){return i&&(r=ue(t,n)),e&&r>n+2&&(c="‚Åó"+d.length+"~",d.push(t.slice(n,r)),h+=t.slice(u,n)+c,u=r),r}n||(n=_);var o,a,u,s,c,l,f=[],p=n[6],d=[],h="";for(a=u=p.lastIndex=0;o=p.exec(t);){if(l=p.lastIndex,s=o.index,a){if(o[2]){var g=o[2],m=v[g],b=1;for(m.lastIndex=l;o=m.exec(t);)if(o[1]){if(o[1]===g)++b;else if(!--b)break}else m.lastIndex=i(o.index,m.lastIndex,o[2]);p.lastIndex=b?t.length:m.lastIndex;continue}if(!o[3]){p.lastIndex=i(s,l,o[4]);continue}}o[1]||(r(t.slice(u,s)),u=p.lastIndex,p=n[6+(a^=1)],p.lastIndex=u)}return t&&u<t.length&&r(t.slice(u)),f.qblocks=d,f},o.hasExpr=function(t){return _[4].test(t)},o.loopKeys=function(t){var e=t.match(_[9]);return e?{key:e[1],pos:e[2],val:_[0]+e[3].trim()+_[1]}:{val:t.trim()}},o.array=function(t){return t?i(t):_},Object.defineProperty(o,"settings",{set:u,get:function(){return c}}),o.settings=void 0!==t&&t.settings||{},o.set=a,o.skipRegex=ue,o.R_STRINGS=p,o.R_MLCOMMS=f,o.S_QBLOCKS=d,o.S_QBLOCK2=m,o}(),ce=function(){function t(t,r){return t?(a[t]||(a[t]=n(t))).call(r,e.bind({data:r,tmpl:t})):t}function e(e,n){e.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},t.errorHandler?t.errorHandler(e):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(e.message),console.log("<%s> %s",e.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function n(t){var e=r(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function r(t){var e,n=se.split(t.replace(u,'"'),1),r=n.qblocks;if(n.length>2||n[0]){var o,a,c=[];for(o=a=0;o<n.length;++o)(e=n[o])&&(e=1&o?i(e,1,r):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(c[a++]=e);e=a<2?c[0]:"["+c.join(",")+'].join("")'}else e=i(n[1],0,r);return r.length&&(e=e.replace(s,function(t,e){return r[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function i(t,e,n){if(t=t.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,i=[],a=0;t&&(r=t.match(c))&&!r.index;){var u,s,f=/,|([[{(])|$/g;for(t=RegExp.rightContext,u=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];s=(r=f.exec(t))[1];)!function(e,n){var r,i=1,o=l[e];for(o.lastIndex=n.lastIndex;r=o.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:o.lastIndex}(s,f);s=t.slice(0,r.index),t=RegExp.rightContext,i[a++]=o(s,1,u)}t=a?a>1?"["+i.join(",")+'].join(" ").trim()':i[0]:o(t,e)}return t}function o(t,e,n){var r;return t=t.replace(p,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+f+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!d.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var a={};t.hasExpr=se.hasExpr,t.loopKeys=se.loopKeys,t.clearCache=function(){a={}},t.errorHandler=null;var u=/\u2057/g,s=/\u2057(\d+)~/g,c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,l={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},f='"in this?this:'+("object"!=typeof window?"global":"window")+").",p=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,d=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.version=se.version="v3.0.8",t}(),le=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,u=arguments,s=arguments.length-1,c=new Array(s);for(a=0;a<s;a++)c[a]=u[a+1];for(i=n.call(e[r]||[],0),a=0;o=i[a];++a)o.apply(t,c);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(c)),t},enumerable:!1,writable:!1,configurable:!1}}),t},fe=u(Object.create(se.settings),{skipAnonymousTags:!0,autoUpdate:!0}),pe={init:function(t,e,n){j(t,Ct),this.tag=e,this.expr=n,this.stub=w(),this.pristine=t;var r=t.parentNode;return r.insertBefore(this.stub,t),r.removeChild(t),this},update:function(){this.value=ce(this.expr,this.tag),this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],K.apply(this.tag,[this.current,this.expressions,!0])):!this.value&&this.current&&(pt(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),this.value&&I.call(this.tag,this.expressions)},unmount:function(){pt(this.expressions||[])}},de={init:function(t,e,n,r){return this.dom=t,this.attr=n,this.rawValue=r,this.parent=e,this.hasExp=ce.hasExpr(r),this},update:function(){var t=this.value,e=this.parent&&ft(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?ce(this.rawValue,this.parent):this.rawValue,!d(t)&&e&&gt(e.refs,t,n),!d(this.value)&&p(this.value)?(e&&ht(e.refs,this.value,n,null,this.parent.__.index),this.value!==t&&E(this.dom,this.attr,this.value)):j(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&ft(this.parent);!d(this.value)&&e&&gt(e.refs,this.value,t)}},he=/<yield\b/i,ge=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,me=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,ve=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,be={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ye=Qt&&Qt<10?qt:Zt,we="div",_e="svg",xe={},ke=xe[Ot]={},$e=0,je=Object.freeze({Tag:X,tag:Y,tag2:tt,mount:et,mixin:nt,update:rt,unregister:it,version:"v3.7.3"}),Oe=Object.freeze({getTag:st,moveChildTag:ct,initChildTag:lt,getImmediateCustomParentTag:ft,unmountAll:pt,getTagName:dt,arrayishAdd:ht,arrayishRemove:gt,mountTo:mt,makeReplaceVirtual:vt,makeVirtual:bt,moveVirtual:yt,selectTags:wt}),Ne=fe,Ee={tmpl:ce,brackets:se,styleManager:ae,vdom:kt,styleNode:ae.styleNode,dom:ne,check:ee,misc:te,tags:Oe},Se=X,Ce=Y,Te=tt,Ae=et,Me=nt,Pe=rt,Le=it,Re=le,Ie=u({},je,{observable:le,settings:Ne,util:Ee});e.settings=Ne,e.util=Ee,e.Tag=Se,e.tag=Ce,e.tag2=Te,e.mount=Ae,e.mixin=Me,e.update=Pe,e.unregister=Le,e.version="v3.7.3",e.observable=Re,e.default=Ie,Object.defineProperty(e,"__esModule",{value:!0})})}).call(e,n(0))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(0),o=r(i),a=n(2),u=r(a);n(7),n(8),n(9),n(10),o.default.mixin(u.default),o.default.mount("app")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(t){return t&&t.__esModule?t:{default:t}}(r);n(4),n(5),n(6);var o={debugging:!0,defaultState:"home",fallbackState:"404"},a=[{name:"home",route:"/",tag:"home"},{name:"404",route:"/notfound",tag:"not-found"},{name:"profile",route:"/profile/:username",tag:"profile"}];e.default=new i.default(o,a),t.exports=e.default},function(t,e,n){(function(e){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="dist/",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return{$router:new r.Router(t,e)}};var r=n(1);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),a=n(3),u=n(4),s=n(5),c=n(6);e.Router=function(){function t(e,n){r(this,t);var i=this;i.version=o.version,i.$constants=a.Constants,i.$logger=new u.Logger(i),i.$tools=new s.Tools(i),i.$utils=new c.Utils(i),i.$events={},Object.defineProperty(i,"location",{get:function(){return{hash:window.location.hash,href:window.location.href}},set:function(t){window.history.pushState(null,null,t)}}),i.running=!1;var l=["defaultState"],f=["debugging","href","fallbackState"],p=l.concat(f);for(var d in e)if(-1==p.indexOf(d))throw Error('Unknown option "'+d+'" is not supported');if(i=Object.assign(i,e),i.debugging=i.debugging||!1,i.href&&-1==i.location.href.indexOf(i.href))throw Error("Defined href not found within location context");i.href=i.href||i.location.href,i.href.endsWith("/")||(i.href=i.href+"/");var h=["name","route","tag"];if(n=Array.isArray(n)?n.map(function(t){return Object.assign({},t)}):[Object.assign({},state)],n.forEach(function(t){if(!t.name.match(i.$constants.regex.stateName))throw Error('Invalid state name "'+t.name+'",        state names must be a valid alphanumeric string.')}),h.forEach(function(t){n.forEach(function(e){if(!e[t])throw ReferenceError('Required state option "'+t+'" not specified')})}),n.forEach(function(t){t.route=i.$utils.splitRoute(t.route)}),i.states=n,!i.defaultState)throw ReferenceError("Default state must be specified");if(i.defaultState.indexOf(":")>-1)throw Error("Default state route cannot take variable parameters");if(!i.$utils.stateByName(i.defaultState))throw Error('State "'+i.defaultState+'" not found in specified states');if(i.fallbackState){if(!i.$utils.stateByName(i.fallbackState))throw Error('Fallback state "'+i.fallbackState+'" not found in specified states')}else i.$logger.warn('Fallback state not specified, defaulting to "'+i.defaultState+'"'),i.fallbackState=i.defaultState;i.marker?i.marker.match(i.$constants.regex.marker)||(i.$logger.warn('Marker "'+i.marker+'" contains unsupported characters'),i.$logger.warn('Defaulting to "'+i.$constants.defaults.marker+'"'),i.marker=i.$constants.defaults.marker):i.marker=i.$constants.defaults.marker,i.marker=i.marker||i.$constants.defaults.marker}return i(t,[{key:"navigate",value:function(t,e){var n=this;return new Promise(function(r,i){if(!n.running)return n.$logger.warn("(navigate) Router has not yet been started"),i();n.location=n.href+n.$constants.defaults.hash+t;var o=setInterval(function(){n.location.hash==n.$constants.defaults.hash+t&&(window.clearInterval(o),e?n._dispatch("navigation",{route:t}).then(r).catch(r):n.push().then(function(){return n._dispatch("navigation",{route:t}).then(r).catch(r)}))},n.$constants.intervals.navigate);setTimeout(i,n.$constants.defaults.timeout)})}},{key:"push",value:function(t,e){var n=this;return new Promise(function(r){if(!n.running)return n.$logger.error("(push) Router has not yet been started"),reject();if(t)var i=n.$utils.stateByName(t);else{var i=n.$utils.stateByRoute();e=n.$utils.extractRouteVars(i)}if(n.location.hash.split(n.$constants.defaults.hash)[1]!==i.route.route){if(!i.route.variables.length)return n.navigate(i.route.route),r();n.$logger.warn("(push) State does not match current route."),n.$logger.warn("(push) Could not re-route due to route variables.")}n.$state&&n.$state.onLeave&&n.$state.onLeave(i),n.$tools.transition(i,e),i.onEnter&&i.onEnter(i),n.$state=i,n._dispatch("push").then(r).catch(r)})}},{key:"start",value:function(){var t=this;return new Promise(function(e,n){if(t.running)t.$logger.error("(start) Router already running"),n();else{var r=function(){var r=window.setInterval(function(){var n=document.querySelector(t.marker)||document.querySelector("["+t.marker+"]");n&&(t.context=n,t.push(),window.onhashchange=function(){return t.push()},window.clearInterval(r),t._dispatch("start").then(e).catch(e))},t.$constants.intervals.start);setTimeout(n,t.$constants.defaults.timeout)};t.running=!0,2!==t.location.hash.split(t.$constants.defaults.hash).length?t.navigate(t.$utils.stateByName(t.defaultState).route.route,!0).then(r):r()}})}},{key:"stop",value:function(){var t=this;return new Promise(function(e,n){t.running?(t.running=!1,delete window.onhashchange,t._dispatch("stop").then(e).catch(e)):(t.$logger.error("(stop) Router was not running"),n())})}},{key:"on",value:function(t,e){var n=this;return new Promise(function(r,i){!t||n.$constants.events.supported.indexOf(t)<-1?(n.$logger.error('(on) "'+t+'" is not a supported event'),i()):(n.$events[t]=e,r())})}},{key:"_dispatch",value:function(t,e){var n=this;return new Promise(function(r){(!t||n.$constants.events.supported.indexOf(t)<-1)&&(n.$logger.error('(dispatch) "'+t+'" is not a supported event'),reject()),"function"==typeof n.$events[t]?r(n.$events[t](e)):reject()})}}]),t}()},function(t,e){t.exports={name:"riot-view-router",version:"0.0.3",description:"Lightweight, extensive riot.js router for tag views.",main:"dist/riot-view-router.js",scripts:{build:"node_modules/.bin/cross-env NODE_ENV=production node_modules/.bin/webpack --config build/webpack.conf.js","build:dev":"node_modules/.bin/webpack --config build/webpack.conf.js",lint:"node_modules/.bin/eslint src/**.js","test:unit":"node_modules/.bin/jasmine test/unit/spec.*.js","test:e2e":"node_modules/.bin/karma start test/karma.conf.js",test:"npm run lint && npm run test:unit && npm run test:e2e"},repository:{type:"git",url:"git+https://github.com/neetjn/riot-view-router.git"},keywords:["riot","riot.js","javascript","route","tag"],author:"John Nolette",license:"MIT",bugs:{url:"https://github.com/neetjn/riot-view-router/issues"},homepage:"https://github.com/neetjn/riot-view-router#readme",devDependencies:{"babel-core":"^6.26.0","babel-eslint":"^7.2.3","babel-loader":"^7.1.2","babel-plugin-add-module-exports":"^0.2.1","babel-preset-env":"^1.6.1","cross-env":"^5.1.0",electron:"^1.7.9",eslint:"^4.9.0","eslint-plugin-riot":"^0.1.7",jasmine:"2.5.2",karma:"^1.7.1","karma-electron":"^5.2.1","karma-jasmine":"^1.1.0","karma-riot":"^2.0.0","random-js":"1.0.8",riot:"^3.7.3",webpack:"^3.8.1"},dependencies:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Constants={defaults:{hash:"#!",marker:"r-view",anchorMarker:"r-sref",timeout:5e3},regex:{marker:/[a-zA-Z\-]*/g,stateName:/[a-zA-Z0-9]/g,routeFormat:/^\/(?::?[a-zA-Z0-9]+\/?)*$/g,routeVariable:/(:[a-zA-Z]*)/g},intervals:{start:10,navigate:50},events:{supported:["start","stop","navigation","push","transition"],delay:0}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Logger=function(){function t(e){r(this,t),this.$router=e,this.logs=[],Object.defineProperty(this,"time",{get:function(){return(new Date).getTime()}})}return i(t,[{key:"_format",value:function(t,e){return"["+new Date(e).toString()+']: (riot-view-router) "'+t+'"'}},{key:"$get",value:function(t){return this.logs.filter(function(e){return!t||e.type==t})}},{key:"log",value:function(t){var e=this.time;this.$router.debugging&&console.log(this._format(t,e)),this.logs.push({type:"general",message:t,timestamp:e})}},{key:"warn",value:function(t){var e=this.time;this.$router.debugging&&console.warn(this._format(t,e)),this.logs.push({type:"warning",message:t,timestamp:e})}},{key:"error",value:function(t){var e=this.time;this.$router.debugging&&console.error(this._format(t,e)),this.logs.push({type:"critical",message:t,timestamp:e})}}]),t}()},function(t,n,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n.Tools=function(){function t(e){i(this,t),this.$router=e}return o(t,[{key:"transition",value:function(t,n){var r=this.$router;return new Promise(function(i){if(r.$state){var o=e.util.vdom.find(function(t){return t.root.localName==r.$state.tag});o||(r.$logger.error("(transition) Could not find a matching tag to unmount"),reject()),o.unmount()}var a=document.createElement(t.tag);if(r.context.appendChild(a),n){var u={};if(n.forEach(function(t){u[t.name]=t.value}),e.mount(t.tag,u),t.title){var s=t.title;n.forEach(function(t){return s=s.replace("<"+t.name+">",t.value)}),document.title=s}}else e.mount(t.tag);document.querySelectorAll("["+r.$constants.defaults.anchorMarker+"]").forEach(function(t){t.onclick=function(){r.navigate(t.getAttribute(r.$constants.defaults.anchorMarker))}}),r._dispatch("transition",{state:t}).then(i).catch(i)})}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Utils=function(){function t(e){r(this,t),this.$router=e}return o(t,[{key:"stateByName",value:function(t){return this.$router.states.find(function(e){return t==e.name})}},{key:"splitRoute",value:function(t){var e=this.$router;if(!t.match(e.$constants.regex.routeFormat))throw Error('Route "'+t+'" did not match expected route format');var n=t.split("/").slice(1),r=n.filter(function(t){return t.match(e.$constants.regex.routeVariable)}).map(function(t){return{name:t.split("").slice(1).join(""),position:n.indexOf(t)}});return r.forEach(function(e){if(r.filter(function(t){return t==e}).length>1)throw Error('Found duplicate route variable pattern\n\t "'+t+'"')}),{route:t,pattern:n,variables:r}}},{key:"stateByRoute",value:function(){var t=this.$router,e=t.location.hash.split(t.$constants.defaults.hash);return e=2==e.length?e[1].split("/").slice(1):["/"],t.states.find(function(t){var n=t.route;if(e.length==n.pattern.length){for(var r in e){var o=function(t){if(e[t]!==n.pattern[t]&&"*"!==n.pattern[t]&&!n.variables.find(function(e){return e.position==t}))return{v:!1}}(r);if("object"===(void 0===o?"undefined":i(o)))return o.v}return!0}})||(t.$logger.warn("Route was not matched, defaulting to fallback state"),this.stateByName(t.fallbackState))}},{key:"extractRouteVars",value:function(t){var e=this.$router,n=e.location.hash.split(e.$constants.defaults.hash);n=2==n.length?n[1].split("/").slice(1):["/"];var r=t.route.variables;return r.forEach(function(t){t.value=n[t.position]}),r}}]),t}()}])})}).call(e,n(0))},function(t,e,n){n(0).tag2("home","<h1></h1>","","",function(t){})},function(t,e,n){n(0).tag2("profile","<h1>{{this.opts.username}}'s Profile</h1>","","",function(t){})},function(t,e,n){n(0).tag2("not-found","<h1>Not Found</h1>","","",function(t){})},function(t,e,n){n(0).tag2("header-partial","<h1>Header</h1>","","",function(t){})},function(t,e,n){n(0).tag2("footer-partial","<h1>Footer</h1>","","",function(t){})},function(t,e,n){n(0)},function(t,e,n){n(0).tag2("app",'<section id="top"> <header-partial></header-partial> </section> <section id="container"> <r-view></r-view> </section> <section id="bottom"> <footer-partial></footer-partial> </section>',"","",function(t){this.$router.start()})}])});